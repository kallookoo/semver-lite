const e=[">","gt",">=","ge","<","lt","<=","le","=","==","eq","!=","<>","ne","===","!=="],r={version:/^\d+(\.\d+)*$/,numeric:/^\d+$/},t=e=>{if(null==e)throw new Error("Invalid version format: version cannot be undefined or null");"string"!=typeof e&&(e=String(e));const[t,n]=e.trim().replace(/^v/,"").split("+"),[s,a]=t.split("-");if(!r.version.test(s))throw new Error("Invalid version format");return{numbers:s.split(".").map(Number),release:a||null,metadata:n||null}},n=(e,t,n)=>{const s=Math.max(e.numbers.length,t.numbers.length),a={version:0,release:0,metadata:0};for(let r=0;r<s;r++){const n=e.numbers[r]||0,s=t.numbers[r]||0;if(n!==s){a.version=n>s?1:-1;break}}return a.release=((e,t)=>{if(null===e)return null===t?0:1;if(null===t)return-1;const n=e.split("."),s=t.split("."),a=Math.min(n.length,s.length);for(let e=0;e<a;e++){const t=r.numeric.test(n[e]),a=r.numeric.test(s[e]);if(t&&!a)return-1;if(!t&&a)return 1;if(t&&a){const r=parseInt(n[e],10)-parseInt(s[e],10);if(0!==r)return r>0?1:-1}else{if(n[e]<s[e])return-1;if(n[e]>s[e])return 1}}return n.length-s.length})(e.release,t.release),"==="!==n&&"!=="!==n||(a.metadata=((e,r)=>e===r?0:null===e?-1:null===r||e>r?1:-1)(e.metadata,t.metadata)),a},s=(r,s,l=">")=>{if(!e.includes(l))throw new Error(`Unsupported operator for comparison: ${l}`);if("==="===l||"!=="===l)return a(r,s,l);const{version:c,release:u}=n(t(r),t(s),l);switch(l){case">":case"gt":return c>0||0===c&&u>0;case">=":case"ge":return c>0||0===c&&(0===u||u>0);case"<":case"lt":return c<0||0===c&&u<0;case"<=":case"le":return c<0||0===c&&u<=0;case"=":case"==":case"eq":return 0===c&&0===u;case"!=":case"<>":case"ne":return 0!==c||0!==u;default:return!1}},a=(r,s,a=">")=>{if(!e.includes(a))throw new Error(`Unsupported operator for comparison: ${a}`);const{version:l,release:c,metadata:u}=n(t(r),t(s),"===");switch(a){case">":case"gt":return l>0||0===l&&c>0||0===l&&0===c&&u>0;case">=":case"ge":return l>0||0===l&&c>0||0===l&&0===c&&u>=0;case"<":case"lt":return l<0||0===l&&c<0||0===l&&0===c&&u<0;case"<=":case"le":return l<0||0===l&&c<0||0===l&&0===c&&u<=0;case"=":case"==":case"===":case"eq":return 0===l&&0===c&&0===u;case"!=":case"!==":case"<>":case"ne":return 0!==l||0!==c||0!==u;default:return!1}};export{s as compare,a as compareStrict};
//# sourceMappingURL=index.esm.min.js.map
